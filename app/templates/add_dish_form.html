{% extends 'base.html' %}

{% block title %}요리 추가{% endblock %}

{% block content %}
    <h1>요리 (Dish) 추가</h1>
    <form method="POST">
        <label>이름 (다중 언어):</label><br>
        <div id="name-fields"></div>
        <button type="button" id="add-name-btn">이름 추가</button><br><br>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const addNameField = createDynamicLanguageFields('name-fields', 'name', '이름');
            document.getElementById('add-name-btn').addEventListener('click', addNameField);

            const addCookingInstructionsField = createDynamicLanguageFields('cooking-instructions-fields', 'cooking_instructions', '조리 방법 설명');
            document.getElementById('add-cooking-instructions-btn').addEventListener('click', addCookingInstructionsField);
        });
    </script>

        <label for="dish_type">타입:</label><br>
        <input type="text" id="dish_type" name="dish_type" required><br><br>

        <label for="image_url">이미지 URL:</label><br>
        <input type="text" id="image_url" name="image_url"><br><br>

        <label for="required_ingredient_ids">필요한 재료:</label><br>
        <select id="required_ingredient_ids" name="required_ingredient_ids" multiple size="5">
            {% for ingredient in all_ingredients %}
                <option value="{{ ingredient.id }}">{{ ingredient.name.kor }} (ID: {{ ingredient.id }})</option>
            {% endfor %}
        </select><br><small>Ctrl 또는 Shift 키를 눌러 다중 선택할 수 있습니다.</small><br><br>

        <label for="required_cooking_method_ids">필요한 조리 방법:</label><br>
        <select id="required_cooking_method_ids" name="required_cooking_method_ids" multiple size="5">
            {% for method in all_cooking_methods %}
                <option value="{{ method.id }}">{{ method.name.kor }} (ID: {{ method.id }})</option>
            {% endfor %}
        </select><br><small>Ctrl 또는 Shift 키를 눌러 다중 선택할 수 있습니다.</small><br><br>

        <label for="calories">칼로리:</label><br>
        <input type="number" step="any" id="calories" name="calories" required><br><br>

        <label>조리 방법 설명 (다중 언어):</label><br>
        <div id="cooking-instructions-fields"></div>
        <button type="button" id="add-cooking-instructions-btn">조리 방법 설명 추가</button><br><br>

        <button type="submit">추가하기</button>
    </form>
{% endblock %}
