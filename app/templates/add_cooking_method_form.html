{% extends 'base.html' %}

{% block title %}조리 방법 추가{% endblock %}

{% block content %}
    <h1>조리 방법 (Cooking Method) 추가</h1>
    <form method="POST">
        <label>이름 (다중 언어):</label><br>
        <div id="name-fields"></div>
        <button type="button" id="add-name-btn">이름 추가</button><br><br>

        <label>설명 (다중 언어):</label><br>
        <div id="desc-fields"></div>
        <button type="button" id="add-desc-btn">설명 추가</button><br><br>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const addNameField = createDynamicLanguageFields('name-fields', 'name', '이름');
                document.getElementById('add-name-btn').addEventListener('click', addNameField);

                const addDescField = createDynamicLanguageFields('desc-fields', 'desc', '설명');
                document.getElementById('add-desc-btn').addEventListener('click', addDescField);
            });
        </script>

        <label for="research_ids">관련 연구 ID:</label><br>
        <select id="research_ids" name="research_ids" multiple size="5">
            {% for research in all_research %}
                <option value="{{ research.id }}">{{ research.reference_data.title }} (ID: {{ research.id }})</option>
            {% endfor %}
        </select><br><small>Ctrl 또는 Shift 키를 눌러 다중 선택할 수 있습니다.</small><br><br>

        <button type="submit">추가하기</button>
    </form>
{% endblock %}
